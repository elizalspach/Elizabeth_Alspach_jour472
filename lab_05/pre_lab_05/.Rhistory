library(tidyverse)
library(formattable)
baltcity_income<- read_csv("assets/data/baltcity_income_clean.csv") %>%
as.data.frame()
library(readr)
baltcity_income_clean <- read_csv("baltcity_income_clean.csv")
View(baltcity_income_clean)
baltcity_income<- read_csv("assets/data/baltcity_income_clean.csv") %>%
as.data.frame()
baltcity_income<- read_csv("baltcity_income_clean.csv") %>%
as.data.frame()
baltcity_income %>%
select(Census, Neighborhood, x2010, x2020) %>%
mutate(Diff_Income = (x2020-x2010))
baltcity_income %>%
select(Census, Neighborhood, x2010, x2020) %>%
mutate(Diff_Income = (x2020-x2010)) %>%
mutate(Diff_Pct_2020 = (x2020-x2010)/x2010)
baltcity_income %>%
select(Census, Neighborhood, x2010, x2020) %>%
mutate(Diff_Income = (x2020-x2010)) %>%
mutate(Diff_Pct_2020 = round((x2020-x2010)/x2010*100,2))
baltcity_income %>%
select(Census, Neighborhood, x2010, x2020) %>%
mutate(Diff_Income = (x2020-x2010)) %>%
mutate(Diff_Pct_2020 = round((x2020-x2010)/x2010*100,2)) %>%
arrange(desc(Diff_Pct_2020))
baltcity_income %>%
select(Census, Neighborhood, x2010, x2020) %>%
mutate(Diff_Income = (x2020-x2010)) %>%
mutate(Diff_Pct_2020 = round((x2020-x2010)/x2010*100,2)) %>%
arrange(Diff_Pct_2020)
maryland_ppp <- read.csv("ppp_applications_md.csv")
#working on this with your laptop, uncomment and use this code below
#maryland_ppp <- read.csv("ppp_applications_md.csv")
View(maryland_ppp)
maryland_ppp %>%
mutate(
upper_city = str_to_upper(city)
) %>%
select(city, upper_city, name, amount)
maryland_with_in_out <- maryland_ppp %>%
mutate(
in_out = case_when(
servicing_lender_state == 'NA' ~ "NA",
servicing_lender_state == 'MD' ~ "IN",
servicing_lender_state != 'MD' ~ "OUT"
)
maryland_with_in_out %>%
select(name, amount, servicing_lender_state, in_out)
maryland_with_in_out <- maryland_ppp %>%
mutate(
in_out = if_else(
servicing_lender_state == 'MD', "IN", "OUT"
)
maryland_with_in_out %>%
select(name, amount, servicing_lender_state, in_out)
read.csv(city_md_income.csv)
city_md_income<- read_csv("city_md_income.csv") %>%
as.data.frame()
#load data
md_cities_income<- read_csv("city_md_income.csv") %>%
as.data.frame() %>%
view(md_cities_income)
#load data
city_md_income<- read_csv("city_md_income.csv") %>%
as.data.frame() %>%
view(md_cities_income)
#load data
city_md_income<- read_csv("city_md_income.csv") %>%
as.data.frame() %>%
view(city_md_income)
#difference in median income from 2010 to 2020
md_cities_income %>%
select()
#load data
city_md_income<- read_csv("city_md_income.csv") %>%
as.data.frame() %>%
view(city_md_income)
#difference in median income from 2010 to 2020
#load data
city_md_income<- read_csv("city_md_income.csv") %>%
as.data.frame()
view(city_md_income)
#difference in median income from 2010 to 2020
city_md_income
#load data
city_md_income<- read_csv("city_md_income.csv") %>%
as.data.frame()
view(city_md_income)
#difference in median income from 2010 to 2020
city_md_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(difference = (median_inc_2020 - median_inc_2010))
view(city_md_income)
#load data
city_md_income<- read_csv("city_md_income.csv") %>%
as.data.frame()
view(city_md_income)
#difference in median income from 2010 to 2020
city_md_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(difference = (median_inc_2020 - median_inc_2010)) %>%
mutate(pct_change = ((median_inc_2020-median_inc_2010)/median_inc_2010))
view(city_md_income)
#load data
city_md_income<- read_csv("city_md_income.csv") %>%
as.data.frame()
view(city_md_income)
#difference in median income from 2010 to 2020
city_md_income %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(difference = (median_inc_2020 - median_inc_2010)) %>%
mutate(pct_change = ((median_inc_2020-median_inc_2010)/median_inc_2010))
#load data
md_cities<- read_csv("city_md_income.csv") %>%
as.data.frame()
view(md_cities)
#difference in median income from 2010 to 2020
md_cities <- md_cities %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(difference = (median_inc_2020 - median_inc_2010)) %>%
mutate(pct_change = ((median_inc_2020-median_inc_2010)/median_inc_2010))
#load data
md_cities<- read_csv("city_md_income.csv") %>%
as.data.frame()
view(md_cities)
#difference in median income from 2010 to 2020
md_cities <- md_cities %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(difference = (median_inc_2020 - median_inc_2010)) %>%
mutate(pct_change = ((median_inc_2020-median_inc_2010)/median_inc_2010))
view(md_cities)
#load data
md_cities<- read_csv("city_md_income.csv") %>%
as.data.frame()
view(md_cities)
#difference in median income from 2010 to 2020
md_cities <- md_cities %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(difference = (median_inc_2020 - median_inc_2010)) %>%
mutate(pct_change = ((median_inc_2020-median_inc_2010)/median_inc_2010))
view(difference)
#load data
md_cities<- read_csv("city_md_income.csv") %>%
as.data.frame()
view(md_cities)
#difference in median income from 2010 to 2020
md_cities <- md_cities %>%
mutate(difference = (median_inc_2020 - median_inc_2010)) %>%
mutate(pct_change = ((median_inc_2020-median_inc_2010)/median_inc_2010))
view(difference)
#load data
md_cities<- read_csv("city_md_income.csv") %>%
as.data.frame()
view(md_cities)
#difference in median income from 2010 to 2020
md_cities <- md_cities %>%
mutate(inc_diff = (median_inc_2020 - median_inc_2010)) %>%
mutate(pct_change = ((median_inc_2020-median_inc_2010)/median_inc_2010))
view(inc_diff)
#load data
md_cities<- read_csv("city_md_income.csv") %>%
as.data.frame()
view(md_cities)
#difference in median income from 2010 to 2020
md_cities <- md_cities %>%
mutate(inc_diff = (median_inc_2020 - median_inc_2010)) %>%
mutate(pct_change = (percent(median_inc_2020-median_inc_2010)/median_inc_2010))
view(inc_diff)
#load data
md_cities<- read_csv("city_md_income.csv") %>%
as.data.frame()
view(md_cities)
#difference in median income from 2010 to 2020
md_cities <- md_cities %>%
mutate(inc_diff = (median_inc_2020 - median_inc_2010)) %>%
mutate(pct_change = (percent(median_inc_2020-median_inc_2010)/median_inc_2010))
view(inc_diff)
#load data
md_cities<- read_csv("city_md_income.csv") %>%
as.data.frame()
#difference in median income from 2010 to 2020
md_cities <- md_cities %>%
mutate(inc_diff = (median_inc_2020 - median_inc_2010)) %>%
mutate(pct_change = (percent(median_inc_2020-median_inc_2010)/median_inc_2010))
view(md_cities)
#load data
md_cities<- read_csv("city_md_income.csv") %>%
as.data.frame()
#difference in median income from 2010 to 2020
md_cities <- md_cities %>%
mutate(inc_diff = (median_inc_2020 - median_inc_2010)) %>%
mutate(pct_change = (percent(median_inc_2020-median_inc_2010)/median_inc_2010))
view(md_cities)
md_cities <- md_cities %>%
mutate(pct_change -(percent(median_inc_2020-median_inc_2010)/median_inc_2010)) %>%
arrange(desc(pct_change,n=25))
md_cities <- md_cities %>%
mutate(pct_change -(percent(median_inc_2020-median_inc_2010)/median_inc_2010)) %>%
arrange(desc(pct_change, n=25))
md_cities <- md_cities %>%
mutate(pct_change -(percent(median_inc_2020-median_inc_2010)/median_inc_2010)) %>%
slice_max(pct_change, n=25)
view(md_cities)
top_25_pct_change <- md_cities %>%
mutate(pct_change -(percent(median_inc_2020-median_inc_2010)/median_inc_2010)) %>%
slice_max(pct_change, n=25)
view(top_25_pct_change)
top_25_pct_change <- md_cities %>%
mutate(pct_change = (percent(median_inc_2020-median_inc_2010)/median_inc_2010)) %>%
slice_max(pct_change, n=25)
view(top_25_pct_change)
top_25_pct_change <- md_cities %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(pct_change = (percent(median_inc_2020-median_inc_2010)/median_inc_2010)) %>%
slice_max(pct_change, n=25)
view(top_25_pct_change)
lowest_25_pct_change <- md_cities %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(pct_change = (percent((median_inc_2020-median_inc_2010)/median_inc_2010))) %>%
slice_min(pct_change, n=25)
view(lowest_25_pct_change
lowest_25_pct_change <- md_cities %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(pct_change = (percent((median_inc_2020-median_inc_2010)/median_inc_2010))) %>%
slice_min(pct_change, n=25)
view(lowest_25_pct_change)
lowest_25_pct_change <- md_cities %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(pct_change = percent((median_inc_2020-median_inc_2010)/median_inc_2010)) %>%
slice_min(pct_change, n=25)
view(lowest_25_pct_change)
lowest_25_pct_change <- md_cities %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(pct_change = percent((median_inc_2020-median_inc_2010)/median_inc_2010)) %>%
slice_min(pct_change, n=25)
view(lowest_25_pct_change)
lowest_25_pct_change <- md_cities %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(pct_change = percent((median_inc_2020-median_inc_2010)/median_inc_2010)) %>%
#slice_min(pct_change, n=25)
arrange((pct_change))
view(lowest_25_pct_change)
lowest_25_pct_change <- md_cities %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(pct_change = ((median_inc_2020-median_inc_2010)/median_inc_2010)) %>%
#slice_min(pct_change, n=25)
arrange((pct_change))
view(lowest_25_pct_change)
#load data
md_cities<- read_csv("city_md_income.csv") %>%
as.data.frame()
lowest_25_pct_change <- md_cities %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(pct_change = ((median_inc_2020-median_inc_2010)/median_inc_2010)) %>%
#slice_min(pct_change, n=25)
arrange((pct_change))
view(lowest_25_pct_change)
lowest_25_pct_change <- md_cities %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(pct_change = percent((median_inc_2020-median_inc_2010)/median_inc_2010)) %>%
#slice_min(pct_change, n=25)
arrange((pct_change))
view(lowest_25_pct_change)
lowest_25_pct_change <- md_cities %>%
select(place, median_inc_2010, median_inc_2020) %>%
mutate(pct_change = percent((median_inc_2020-median_inc_2010)/median_inc_2010)) %>%
slice_min(pct_change, n=25)
view(lowest_25_pct_change)
md_cities <- md_cities %>%
mutate(inc_diff = (median_inc_2020 - median_inc_2010)) %>%
mutate(pct_change = (percent(median_inc_2020-median_inc_2010)/median_inc_2010)) %>%
arrange(desc(inc_diff))
md_cities <- md_cities %>%
mutate(inc_diff = (median_inc_2020 - median_inc_2010)) %>%
mutate(pct_change = (percent(median_inc_2020-median_inc_2010)/median_inc_2010)) %>%
arrange(desc(inc_diff)) %>%
arrange(desc(pct_change))
md_cities <- md_cities %>%
mutate(inc_diff = (median_inc_2020 - median_inc_2010)) %>%
mutate(pct_change = (percent(median_inc_2020-median_inc_2010)/median_inc_2010)) %>%
arrange(desc(inc_diff)) %>%
arrange(desc(pct_change))
view(md_cities)
#The city with teh highest absolute change is
md_cities %>%
mutate(inc_diff = (median_inc_2020 - median_inc_2010)) %>%
mutate(pct_change = (percent(median_inc_2020-median_inc_2010)/median_inc_2010)) %>%
arrange(desc(inc_diff))
view(md_cities)
#The city with teh highest absolute change is
md_cities %>%
mutate(inc_diff = (median_inc_2020 - median_inc_2010)) %>%
arrange(desc(inc_diff))
view(md_cities)
#The city with the highest percentage change is
md_cities %>%
mutate(pct_change = (percent(median_inc_2020-median_inc_2010)/median_inc_2010)) %>%
arrange(desc(pct_change))
#summary statistics of md_cities
md_cities %>%
summary(md_cities)
#summary statistics of md_cities
md_cities %>%
summary(md_cities$median_inc_2020)
#mutate and case_when to create "category" and quartiles
md_cities %>%
mutate(
category = case_when(
median_inc_2020 == '1st Qu.' ~ "lowest",
median_inc_2020 != 'Median' ~ "median",
)
#mutate and case_when to create "category" and quartiles
md_cities %>%
mutate(
category = case_when(
median_inc_2020 == '1st Qu.' ~ "lowest",
median_inc_2020 != 'Median', 'Mean', '3rd Qu.', 'Max', 'NAs' ~ "median",
)
#mutate and case_when to create "category" and quartiles
md_cities %>%
mutate(
category = case_when(
median_inc_2020 == '1st Qu.' ~ "lowest",
median_inc_2020 != 'Median', 'Mean', ~ "median",
)
#mutate and case_when to create "category" and quartiles
md_cities %>%
mutate(
category = case_when(
median_inc_2020 == '1st Qu.' ~ "lowest",
median_inc_2020 != 'Median' ~ "median",
)
#mutate and case_when to create "category" and quartiles
md_cities %>%
mutate(
category = case_when(
median_inc_2020 == 63327 ~ "above",
median_inc_2020 != 63327 ~ "below",
)
#mutate and case_when to create "category" and quartiles
md_cities %>%
mutate(
category = case_when(
median_inc_2020 == 63327 ~ "above",
median_inc_2020 != 63327 ~ "below",
)
) %>%
select(place, median_inc_2020, category)
#mutate and case_when to create "category" and quartiles
md_cities %>%
mutate(
category = case_when(
median_inc_2020 >= 63327 ~ "above",
median_inc_2020 <= 63327 ~ "lowest",
)
) %>%
select(place, median_inc_2020, category)
md_cities %>%
median(pct_change)
median(md_cities$median_inc_2020)
median(md_cities$median_inc_2020, na.rm=TRUE)
median(md_cities$pct_change, na.rm=TRUE)
