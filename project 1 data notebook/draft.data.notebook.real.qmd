How does median household income and education correlate, specifically through graduation rates in Baltimore City and scores in English language exams?

Let's start with some background:
Household median income is essentially the median income of a certain area in a city, state or community. Historically, districts have been redrawn -- in a process known as redlining -- to ensure that some areas had a larger white population than others. While this is now an illegal process, some of its effects may still be felt today -- especially in Baltimore. This data analysis could be used to see if some effects of redlining are still seen, especially in the thought that it could institutionally disadvantage some races of people rather than others. 

Let's load our packages:

```{r}
#load janitor, tidyverse and formattable
library(janitor)
library(tidyverse)
library(formattable)
library(ggplot2)
library(ggthemes)
```
Next, let's load our data. 
```{r}
#load baltimore race data and baltimore income data
#load md english scores, grade enrollment, dropout rate and diplomas certificates
baltcity_race <- read_csv("baltcity_race_8_13.csv")
baltcity_income <- read_csv("baltcity_income_clean.csv")
x2020_dropout_rate <- read_csv("Annual_Dropout_Rate_2020.csv")
x2020_grade_enrollment <- read_csv("Enrollment_By_Grade_2020.csv")
x2020_english_scores <- read_csv("2020_ELPA2_Summary.csv")
x2020_diplomas_certificates <- read_csv("2020_Diplomas_and_Certificates.csv")
```

What areas have the highest median household income?
```{r}
#get the top 10 neighborhoods with the highest median income in 2020
top10_baltcity_income <- baltcity_income %>% 
  select(Neighborhood, x2020, Census) %>% 
  slice_max(x2020, n=10)

view(top10_baltcity_income)
```

What about the lowest?
```{r}
low10_baltcity_income <- baltcity_income %>% 
  select(Neighborhood, x2020, Census) %>% 
  slice_min(x2020, n=10)

view(low10_baltcity_income)
```

Let's grab the locations in the city with the top white population as well.
```{r}
#cross reference that with the top 20 places with the most white population
top10_white <- baltcity_race %>% 
  select(census_tract,x2020_white) %>% 
  slice_max(x2020_white, n=10)

view(top10_white)
```

Also, let's grab the lowest 20 white population.
```{r}
low10_white <- baltcity_race %>% 
  select(census_tract,x2020_white) %>% 
  slice_min(x2020_white, n=10)

view(low10_white)
```

How does this compare to schools with the highest graduation rates? Do schools in the areas with the highest white populations have higher graduation rates?
#comparing geoid to match up areas
```{r}
#Filter x2020_diplomas_certificates for Baltimore City, then check on geoids of the schools with the highest graduation rates
baltcity_grads <- x2020_diplomas_certificates %>% 
  filter(`LSS Name`== "Baltimore City") %>% 
  select(`LSS Name`,`School Name`, `Total HS Completers`) %>% 
 slice_max(`Total HS Completers`, n=10)

view(baltcity_grads)

```

How are English Language scores in Baltimore City? Is there a specific school that has the lowest scores, and in what area of the city is that located? Do students who speak another language get the help they need for high school graduation? 

```{r}
#find lowest English scores by city
x2020_baltcity_english_scores <- x2020_english_scores %>% 
  filter(`LSS Name`=="Baltimore City") %>% 
  select(`School Name`, `Proficient Count`,) %>% 
  slice_max(`Proficient Count`, n=10)
#help this isn't actually ordering in descending order and also slicemax isn't working

view(x2020_baltcity_english_scores)
```

What schools in Baltimore City have the highest drop out rate in 2020?
```{r}
baltcity_dropout <- x2020_dropout_rate %>% 
  select(`LSS Name`, `School Name`, `Dropout Rate Numer`) %>% 
  filter(`LSS Name`=="Baltimore City") %>% 
  slice_max(`Dropout Rate Numer`, n=10)

view(baltcity_dropout)

#check on this, it's not actually sorting and want to ask rob wells why

```

Many schools with the lowest English language score proficiency ratings also show some of the highest dropout rates in 2020. 

Let's make a table with findings:
```{r}
ggplot(baltcity_dropout, aes(x=`Dropout Rate Numer`))+
  geom_line(aes(y=`Benjamin Franklin High School at Masonville Cove`), color= "blue") +
  geom_line(aes(y=`Achievement Academy at Harbor City High`), color= "green")+
  geom_line(aes(y=`Augusta Fells Savage Institute of Visual Arts`), color="yellow")+
  geom_line(aes(y=`Renaissance Academy`), color="red") +
  geom_line(aes(y=`National Academy Foundation`), color="purple")+
  geom_line(aes(y=`New Era Academy`),color="orange")+
  labs(
    title= "NCAA athletic directors by sex, race, 2012-2021",
    x= "Number",
    y= "Sex, Race"
  )

```
